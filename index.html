<!DOCTYPE html>
<!-- This is based on DillingerLee's great template here:
https://github.com/Team-Code/KA_Offline -->
<html>

<head>
	<title>Processing.JS inside Webpages: Template</title>
</head>

<body>
	<p align="center">
		<!--This draws the Canvas on the webpage -->
		<canvas id="mycanvas"></canvas>
	</p>
</body>

<!-- Run all the JavaScript stuff -->
<!-- Include the processing.js library -->
<!-- See https://khanacademy.zendesk.com/hc/en-us/articles/202260404-What-parts-of-ProcessingJS-does-Khan-Academy-support- for differences -->
<script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script>

<script>
	var sketchProc = function(processingInstance) {
		with(processingInstance) {
			size(400, 400);
			frameRate(40);

			// ProgramCodeGoesHere
			var xPositions = [200];
			var yPositions = [0];
			var r = random(0, 400); //for colors
			var s = random(0, 400);
			var t = random(0, 400);
			draw = function() {
				background(204, 247, 250);
				for (var i = 0; i < xPositions.length; i++) {
					noStroke();

					fill(i, i * 30, 250);
					ellipse(xPositions[i], yPositions[i], 10, 10);
					yPositions[i] += 5;
					if (yPositions[i] > 400) {
						yPositions[i] = 0;
						xPositions.push(random(0, 400));
						yPositions.push(random(0, 150));

					}
					if (xPositions.length > 25) {
						xPositions.shift(0);
						yPositions.shift(0);
					}
				}
			};





		}
	};

	// Get the canvas that Processing-js will use
	var canvas = document.getElementById("mycanvas");
	// Pass the function sketchProc (defined in myCode.js) to Processing's constructor.
	var processingInstance = new Processing(canvas, sketchProc);

</script>

</html>
